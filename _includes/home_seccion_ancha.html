<div class="hero-divider"></div>
<section class="wc-section">
  <div class="wc-container">
    <header class="wc-head">
      <h2 class="wc-title">{{ include.titulo | default: "Gifts & Guías de compra" }}</h2>
      {% if include.descripcion %}
        <p class="wc-subtitle">{{ include.descripcion }}</p>
      {% endif %}
      {% if include.ver_todo_url %}
        <a class="wc-seeall" href="{{ include.ver_todo_url | relative_url }}">Ver todas</a>
      {% endif %}
    </header>

    {%- assign items_base = site.pages -%}
    {%- assign items_filtrados = items_base | where_exp: "p", "p.keywords and p.keywords != ''" -%}
    {%- assign items = items_filtrados | sort: "date" | reverse -%}
    {%- assign limite = include.limit | default: 3 -%}

    <div class="wc-grid">
      {%- for page in items limit: limite -%}
      <article class="wc-card">
        <a class="wc-thumb" href="{{ page.url | relative_url }}" aria-label="{{ page.title | escape }}">
          {%- assign img = page.imagen | default: "/assets/img/placeholder.webp" -%}
          <img src="{{ img | relative_url }}" alt="{{ page.image_alt | default: page.title | escape }}" loading="lazy">
        </a>

        <div class="wc-body">
          <h3 class="wc-card-title">
            <a href="{{ page.url | relative_url }}">{{ page.title }}</a>
          </h3>

          <p class="wc-updated">
            {{ include.updated_label | default: "ACTUALIZADO" }} {{ page.date | date: "%-d de %B de %Y" | upcase }}
          </p>

          <p class="wc-byline">
            {%- assign autor = page.autor | default: "Redacción" -%}
            por {{ autor }}
          </p>

          <p class="wc-excerpt">
            {%- if page.excerpt -%}
              {{ page.excerpt | strip_html | truncate: 190 }}
            {%- else -%}
              {{ page.content | strip_html | truncate: 190 }}
            {%- endif -%}
          </p>
        </div>
      </article>
      {%- endfor -%}
    </div>
  </div>
</section>


<style>
    /* Sección Guías (estilo limpio tipo Wirecutter/Xataka) */
.rc-section { padding: 2.5rem 0; }
.rc-container { max-width: 1200px; margin: 0 auto; padding: 0 16px; }
.rc-head { display:flex; align-items:baseline; gap: 12px; flex-wrap:wrap; margin-bottom: 1rem; }
.rc-title { font-size: clamp(1.6rem, 2.2vw, 2.2rem); font-weight: 800; margin:0; }
.rc-subtitle { color:#555; margin:0; }
.rc-seeall { margin-left:auto; font-weight:600; text-decoration:none; border-bottom:2px solid currentColor; }
.rc-grid {
  display:grid;
  grid-template-columns: 1fr;
  gap: 20px;
}
@media (min-width: 780px){ .rc-grid { grid-template-columns: repeat(3, 1fr); } }

.rc-card {
  background:#fff; border:1px solid #e9eef3; border-radius:14px; overflow:hidden;
  display:flex; flex-direction:column; transition: box-shadow .2s ease;
}
.rc-card:hover { box-shadow: 0 6px 24px rgba(0,0,0,.08); }
.rc-imgwrap { display:block; aspect-ratio: 16/9; background:#f4f7fb; }
.rc-img { width:100%; height:100%; object-fit:cover; display:block; }

.rc-body { padding: 14px 16px 18px; display:flex; flex-direction:column; gap:8px; }
.rc-card-title { font-size:1.05rem; line-height:1.3; margin:0; }
.rc-card-title a { color:inherit; text-decoration:none; }
.rc-card-title a:hover { text-decoration:underline; }
.rc-meta { color:#6a7785; font-size:.9rem; margin:0; }
.rc-excerpt { margin:0; color:#222; }
/* ===== Sección tipo Wirecutter ===== */
.wc-section{padding:10px 0}
.wc-container{max-width:1200px;margin:0 auto;padding:0px 14px}
.wc-head{display:flex;align-items:baseline;gap:12px;flex-wrap:wrap;margin-bottom:18px}
.wc-title{font-size:clamp(1.6rem,2.2vw,2.2rem);font-weight:800;margin:0}
.wc-subtitle{color:#5b6775;margin:0}
.wc-seeall{margin-left:auto;font-weight:700;text-decoration:none;border-bottom:2px solid currentColor;line-height:1}
.wc-grid{display:grid;grid-template-columns:1fr;gap:22px}
@media(min-width:780px){.wc-grid{grid-template-columns:repeat(3,1fr)}}

.wc-card{display:flex;flex-direction:column;background:#fff;overflow:hidden;transition:box-shadow .2s ease}
.wc-thumb{display:block;aspect-ratio:16/10;background:#f3f6fb;overflow:hidden}
.wc-thumb img{width:100%;height:100%;object-fit:cover;display:block;transform:scale(1.001);transition:transform .35s ease}
.wc-body{padding:14px 16px 18px}
.wc-card-title{font-size:1.15rem;line-height:1.25;margin:0 0 6px}
.wc-card-title a{color:inherit;text-decoration:none}
.wc-card-title a:hover{text-decoration:underline}
.wc-updated{font-size:.82rem;font-weight:800;letter-spacing:.02em;color:#4360ff;margin:.1rem 0 .25rem}
.wc-byline{font-size:.9rem;color:#2a2f36;margin:0 0 .5rem}
.wc-excerpt{color:#111;margin:0}

</style>